# ========================================
# PCB Inspection AI Platform
# Environment Variables Template
# ========================================

# ========== Database (PostgreSQL) ==========
POSTGRES_DB=pcb_inspection
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here

# Database URL (for Prisma and SQLAlchemy)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:5432/${POSTGRES_DB}

# ========== Object Storage (MinIO) ==========
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123_change_me

# MinIO Endpoints
MINIO_ENDPOINT=localhost:9000
MINIO_CONSOLE_URL=http://localhost:9001

# S3 Compatible Settings
AWS_ACCESS_KEY_ID=${MINIO_ROOT_USER}
AWS_SECRET_ACCESS_KEY=${MINIO_ROOT_PASSWORD}

# ========== Cache & Queue (Redis) ==========
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# ========== Authentication (NextAuth) ==========
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your_nextauth_secret_min_32_chars_required

# JWT Settings
JWT_SECRET=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# ========== ML Tracking (MLflow) ==========
MLFLOW_TRACKING_URI=http://localhost:5000

# ========== Vector Database (Qdrant) ==========
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=

# ========== Monitoring (Grafana) ==========
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ========== AI/ML Settings ==========

# Model Settings
AI_MODEL_PATH=/app/models
DEFAULT_YOLO_VERSION=yolov8n
INFERENCE_BATCH_SIZE=1
TRAINING_BATCH_SIZE=16

# GPU Settings
CUDA_VISIBLE_DEVICES=0,1  # GPU 0, 1 사용
GPU_MEMORY_FRACTION=0.8    # GPU 메모리 80%만 사용

# Inference Settings
INFERENCE_TIMEOUT_SECONDS=30
MAX_CONCURRENT_INFERENCES=4

# Training Settings
MAX_TRAINING_EPOCHS=100
EARLY_STOPPING_PATIENCE=10
LEARNING_RATE=0.001

# ========== Image Processing ==========

# Synthesis (GAN)
GAN_MODEL_VERSION=v1.0
MAX_SYNTHESIS_IMAGES=100

# Image Search
EMBEDDING_MODEL=clip-vit-base-patch32
SEARCH_TOP_K=10

# ========== Application Settings ==========

# Environment
NODE_ENV=development
PYTHON_ENV=development

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
LOG_FORMAT=json  # json, text

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ========== External APIs (Optional) ==========

# OpenAI (for AI Assistant - 향후 사용)
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.3

# Slack Notifications (Optional)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#ai-alerts

# ========== Development Settings ==========

# Debug Mode
DEBUG=false
VERBOSE_LOGGING=false

# Hot Reload
WATCHDOG_ENABLED=true

# Test Database
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5433/pcb_test

# ========== Production Settings ==========
# (프로덕션 배포 시 .env.prod에 설정)

# Security
SECURE_COOKIES=true
HTTPS_ONLY=true

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100

# Data Retention
IMAGE_RETENTION_DAYS=90
LOG_RETENTION_DAYS=30

# Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # 매일 새벽 2시

# ========== Notes ==========
# 1. 이 파일은 Git에 커밋하지 마세요 (.gitignore에 포함됨)
# 2. 실제 사용 시 .env 파일로 복사하여 사용하세요
#    cp .env.example .env
# 3. 프로덕션 환경에서는 모든 비밀번호를 변경하세요
# 4. NEXTAUTH_SECRET은 최소 32자 이상이어야 합니다
#    생성 방법: openssl rand -base64 32
